webpackJsonp([1],{0:function(t,r){},NHnr:function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("7+uW"),o=e("3EgV"),a=e.n(o),n=(e("QCv7"),e("8+8L")),l={data:function(){return{interval:{},progressCurrent:"0",progressEnd:"0",progressValue:"0",urlParse:"",urlParseRules:[function(t){return!!t||"Требуется ссылка"},function(t){return/m\.avito/.test(t)||"ссылка на моб версию!"}],countAds:"",countAdsRules:[function(t){return!!t||"Требуется количество"},function(t){return/[0-9]/.test(t)||"цифрами писать надо"}],dialogStartParser:!1,title:"Vuetify.js"}},beforeDestroy:function(){clearInterval(this.interval)},mounted:function(){var t=this;this.interval=setInterval(function(){t.$http.get("/api/status").then(function(r){var e=JSON.parse(r.bodyText);t.progressCurrent=e.current,t.progressEnd=e.end;var s=t.progressEnd/100;t.progressValue=t.progressCurrent/s},function(t){console.log(" getProgress err response");var r=JSON.parse(t.bodyText);console.log("Status of getProgress: "+r.status)})},2e3)},methods:{submit:function(){var t=this;if(this.$refs.form.validate()){console.log(this.urlParse),console.log(this.countAds);var r="/api/start?url="+this.urlParse+"&count="+this.countAds;this.$http.get(r).then(function(r){var e=JSON.parse(r.bodyText);console.log(e),console.log("парсер был запущен успешно"),t.dialogStartParser=!0,t.$refs.form.reset()},function(t){console.log("error starting parser")})}},clear:function(){this.$refs.form.reset()}}},i=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("v-app",[e("v-content",[e("v-container",{attrs:{fluid:""}},[e("v-layout",{attrs:{column:"","align-center":""}},[e("img",{staticClass:"mb-5",attrs:{src:"/static/v.png",alt:"Vuetify.js"}}),t._v(" "),e("blockquote",[t._v("\n          solid-octo-dollop\n          "),e("footer",[e("small",[e("em",[t._v("—written with python & vuejs")])])])])])],1),t._v(" "),e("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[e("v-card",[e("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(r){t.valid=r},expression:"valid"}},[e("v-text-field",{attrs:{label:"ссылка в формате m.avito...",rules:t.urlParseRules,required:""},model:{value:t.urlParse,callback:function(r){t.urlParse=r},expression:"urlParse"}}),t._v(" "),e("v-text-field",{attrs:{label:"количество ads",rules:t.countAdsRules,required:""},model:{value:t.countAds,callback:function(r){t.countAds=r},expression:"countAds"}}),t._v(" "),e("v-btn",{attrs:{disabled:!t.valid},on:{click:t.submit}},[t._v("\n            запустить парсер\n          ")]),t._v(" "),e("v-btn",{on:{click:t.clear}},[t._v("очистить поля")])],1),t._v(" "),e("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogStartParser,callback:function(r){t.dialogStartParser=r},expression:"dialogStartParser"}},[e("v-card",[e("v-card-title",[e("v-spacer",[t._v("Парсер запущен")])],1),t._v(" "),e("v-card-actions",[e("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(r){r.stopPropagation(),t.dialogStartParser=!1}}},[t._v("Закрыть")])],1)],1)],1),t._v(" "),e("v-progress-circular",{attrs:{size:100,width:15,rotate:-90,value:t.progressValue,color:"primary"}},[t._v("\n          "+t._s(t.progressCurrent)+"/"+t._s(t.progressEnd)+"\n        ")])],1)],1)],1),t._v(" "),e("v-footer",{attrs:{fixed:t.fixed,app:""}},[e("span",[t._v("© 2017")])])],1)},u=[],c={render:i,staticRenderFns:u},v=c,d=e("VU/8"),p=d(l,v,!1,null,null,null),f=p.exports;s.a.use(a.a),s.a.use(n.a),s.a.config.productionTip=!1,new s.a({el:"#app",template:"<App/>",components:{App:f}})},QCv7:function(t,r){}},["NHnr"]);
//# sourceMappingURL=app.e25f74847eb55397c902.js.map